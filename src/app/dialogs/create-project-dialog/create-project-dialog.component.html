
<div id="parent" class="container container-dark dialog-container" *ngIf="visible">
  <div class="card">
    <h2>Create Project</h2>

    <!-- Tabs for Step Navigation -->
    <div class="progress-bar-container">
      <!-- Step 1 -->
      <div class="progress-step" [class.active]="step >= 1">
        <div class="circle" [class.active]="step === 1 || step > 1">1</div>
        <p>Project Name</p>
      </div>
    
      <!-- Line between Step 1 and Step 2 -->
      <div class="line" [class.active]="step >= 2"></div>
    
      <!-- Step 2 -->
      <div class="progress-step" [class.active]="step >= 2">
        <div class="circle" [class.active]="step === 2 || step > 2">2</div>
        <p>Labeling Setup</p>
      </div>
    
      <!-- Line between Step 2 and Step 3 -->
      <div class="line" [class.active]="step >= 3"></div>
    
      <!-- Step 3 -->
      <div class="progress-step" [class.active]="step >= 3">
        <div class="circle" [class.active]="step === 3">3</div>
        <p>Review</p>
      </div>
    </div>
    

    <!-- Step 1: Project Name Setup -->
    <div>
      <app-create-project-setup #createProjectSetup [visible]="step === 1"></app-create-project-setup>
    </div>
    
    <!-- Step 2: Labeling Setup -->
    <div>
      <app-labeling-setup #labelingSetup [visible]="step === 2"></app-labeling-setup>
    </div>
    
    <div *ngIf="createProjectSetup?.createProjectVm">
      <app-submit-review-setup 
        [projectdetails]="createProjectSetup.createProjectVm" 
        [labelingdetails]="labelingSetup.projectSetupVm"
        [visible]="step === 3">
      </app-submit-review-setup>
    </div>
    

    <!-- Form Buttons -->
    <div class="button-container form-buttons">
      <button class="btn btn-danger" (click)="hideDialog()">Cancel</button>
      <div>
        <button class="btn btn-secondary" *ngIf="step !== 1" (click)="step = step - 1">Back</button>
        <button class="btn btn-primary" (click)="step !== maxSteps ? step = step + 1 : createProject(createProjectSetup.createProjectVm, labelingSetup.projectSetupVm)">
          {{step !== maxSteps ? 'Next' : 'Create Project'}}
        </button>
      </div>
    </div>
  </div>
</div>
